# Обзор данных

| Поле | Значение |
| --- | --- |
| Цель | Описать структуру данных и связи в приложении |
| Аудитория | Разработчики, AI агент |
| Ответственный | Команда разработки |
| Связанные документы | [ER-диаграмма](er_diagram.puml), [Прогресс карточек](../cards/card_progress.md) |

## Основные сущности

- `Dictionary` — словарь слов с переводами, подсказками, частями речи, изображениями.
- `Card` — карточки, привязанные к коллекциям, содержат тип (`card_type`), интервал и состояние повторения.
- `CardCollection` / `collections` — группы карточек и уроки, объединяющие словарь для занятий.
- `LessonProgress` — результаты обучения по урокам и типам карточек.
- `LessonCardTypes` — доступные типы карточек для урока.

## Источники данных

- **Локальная БД**: Room (`TalaDatabase`) хранит основную информацию и прогресс. DAO обеспечивают запросы к таблицам.
- **Сетевые сервисы**: Retrofit-клиенты к Yandex Dictionary, Unsplash, Mistral. Полученные данные дополняют карточки (переводы, изображения, подсказки).

## Диаграммы и схемы

- Актуальная ER-диаграмма хранится в формате PlantULM: [er_diagram](er_diagram.puml).
- При изменении схемы БД обновляй файл диаграммы и кратко описывай изменения в этом документе.

## Что менять при доработке

- Изменяя структуру таблиц или сущностей, синхронизируй Room-модели, DAO и ER-диаграмму.
- Добавляя новые внешние источники данных, документируй назначение и формат ответа (URL, ключевые поля).
- Поддерживай список сущностей в актуальном состоянии, чтобы упрощать навигацию по данным.

